<!-- HEADER -->
<header class="header-verde">
  <div class="header-top">
    <div class="logo" routerLink="/">ROYEM S.A.C. - EPP & FerreterÃ­a</div>
    
    <div class="header-actions">
      <div class="usuario-info" *ngIf="usuarioActual">
        <span>Hola, {{usuarioActual.nombre}}</span>
        <button class="btn-logout" (click)="logout()">Cerrar SesiÃ³n</button>
      </div>
      <button class="btn-login" routerLink="/login" *ngIf="!usuarioActual">
        ğŸ‘¤ Iniciar SesiÃ³n
      </button>
      <button class="cart-button" routerLink="/carrito">
        ğŸ›’ Carrito
        <span class="cart-count">{{cartCount}}</span>
      </button>
    </div>
  </div>

  <!-- BARRA DE NAVEGACIÃ“N VERDE -->
  <nav class="nav-verde">
    <a routerLink="/">Inicio</a>
    <a routerLink="/mis-pedidos" *ngIf="usuarioActual">Mis Pedidos</a>
    <a routerLink="/admin" *ngIf="esAdmin()" class="admin-link">ğŸ›¡ï¸ Administrador</a>
    
    <!-- âœ… MENÃš DESPLEGABLE DE CATEGORÃAS -->
    <div class="dropdown-categorias" 
         (mouseenter)="mostrarMenuProductos = true" 
         (mouseleave)="mostrarMenuProductos = false">
      <a class="dropdown-trigger">
        CategorÃ­as 
        <span class="dropdown-arrow">â–¼</span>
      </a>
      
      <!-- MEGA MENÃš VERDE FLOTANTE -->
      <div class="mega-menu-verde" *ngIf="mostrarMenuProductos">
        <div class="categorias-grid">
          <!-- COLUMNA DE CATEGORÃA -->
          <div class="categoria-column" *ngFor="let cat of categoriasMenu; let last = last" [class.ultima-columna]="last">
            <h3 class="categoria-titulo" (click)="navegarACategoria(cat.nombre)">
              {{ cat.nombre }}
            </h3>
            
            <ul class="subcategorias-list">
              <li *ngFor="let sub of cat.subcategorias">
                <a (click)="navegarACategoria(sub)">{{ sub }}</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <a href="#">Nosotros</a>
    <a href="#">ContÃ¡ctanos</a>
  </nav>
</header>

<!-- CONTENIDO DINÃMICO -->
<router-outlet></router-outlet>

<!-- FOOTER -->
<footer>
  ROYEM S.A.C. Â© 2025 Â· Cajamarca, PerÃº Â· WhatsApp: +51 9xx xxx xxx Â· Correo: ventas&#64;royem.com
</footer>