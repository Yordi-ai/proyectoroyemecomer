<!-- HERO -->
<section class="hero">
  <h1>Equipos de Protecci√≥n Personal para miner√≠a e industria</h1>
  <p>
    Protege a tu personal con productos certificados: respiradores, cascos, guantes,
    lentes de seguridad, arneses y m√°s.
  </p>
  <button (click)="scrollToProducts()">Ver productos</button>
</section>

<!-- BARRA DE B√öSQUEDA Y FILTROS -->
<div class="filtros-container">
  <div class="busqueda">
    <input 
      type="text" 
      [(ngModel)]="terminoBusqueda" 
      (keyup.enter)="buscarProductos()"
      placeholder="Buscar productos..."
      class="input-busqueda">
    <button (click)="buscarProductos()" class="btn-buscar">üîç Buscar</button>
  </div>
  
  <div class="filtro-categoria">
    <label>Categor√≠a:</label>
    <select [(ngModel)]="categoriaSeleccionada" (change)="filtrarPorCategoria()" class="select-categoria">
      <option value="">Todas las categor√≠as</option>
      <option *ngFor="let cat of categorias" [value]="cat">{{cat}}</option>
    </select>
  </div>
  
  <button (click)="limpiarFiltros()" class="btn-limpiar-filtros">Limpiar filtros</button>
</div>

<!-- CONTENIDO PRINCIPAL -->
<main class="container">
  <h2 class="section-title">Productos destacados</h2>
  
  <div *ngIf="productos.length === 0" class="sin-resultados">
    <p>No se encontraron productos</p>
  </div>
  
  <div class="products-grid" id="productsGrid">
    <div class="product-card" *ngFor="let producto of productos">
      <div class="producto-clickeable" [routerLink]="['/producto', producto.id]">
        <div class="product-image">
          <img 
            [src]="obtenerUrlImagen(producto.imagen)" 
            [alt]="producto.nombre"
            onerror="this.src='https://via.placeholder.com/300?text=Sin+Imagen'"
            style="max-width: 100%; max-height: 100%; object-fit: contain;">
        </div>
        <div class="product-name">{{producto.nombre}}</div>
        <div class="product-brand">{{producto.categoria}}</div>
        <div class="product-price">S/ {{producto.precio.toFixed(2)}}</div>
      </div>
      <button (click)="addToCart(producto)">A√±adir al carrito</button>
    </div>
  </div>
</main>